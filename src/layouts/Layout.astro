---
import { AstroFont } from "astro-font";
import { SEO } from "astro-seo";
import "../assets/app.css";
import Container from "../ui/container.astro";
import Footer from "../ui/footer.astro";
import Navbar from "./navbar.astro";

const { title = "Azzams Smart Home Technology" } = Astro.props;
const isArabic = Astro.props.lang === "ar";
---

<html lang="en" data-theme="cmyk" dir={isArabic ? "rtl" : "ltr"}>
  <head>
    <SEO
      title={title}
      description="Smart Home Technology for Modern Lifestyle"
      openGraph={{
        basic: {
          title,
          type: "A type.",
          image: "https://azzams.com/assets/logo.svg",
        },
      }}
    />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-G253H0R0LP"
    ></script>
    <script>
      // @ts-ignore
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-G253H0R0LP");
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="MyWebSite" />
    <link rel="manifest" href="/site.webmanifest" />
    <AstroFont
      config={[
        {
          name: "Open Sans",
          src: [
            {
              style: "light",
              weight: "300",
              path: "./public/fonts/OpenSans-Light.ttf",
            },
            {
              style: "normal",
              weight: "400",
              path: "./public/fonts/OpenSans-Regular.ttf",
            },
            {
              style: "medium",
              weight: "500",
              path: "./public/fonts/OpenSans-Medium.ttf",
            },
            {
              style: "semibold",
              weight: "600",
              path: "./public/fonts/OpenSans-SemiBold.ttf",
            },
            {
              style: "bold",
              weight: "700",
              path: "./public/fonts/OpenSans-Bold.ttf",
            },
            {
              style: "extrabold",
              weight: "800",
              path: "./public/fonts/OpenSans-ExtraBold.ttf",
            },
          ],
          preload: true,
          display: "swap",
          selector: "body",
          fallback: "sans-serif",
        },
        {
          name: "Beiruti",
          src: [
            {
              style: "light",
              weight: "200",
              path: "./public/fonts/Beiruti-ExtraLight.ttf",
            },
            {
              style: "light",
              weight: "300",
              path: "./public/fonts/Beiruti-Light.ttf",
            },
            {
              style: "normal",
              weight: "400",
              path: "./public/fonts/Beiruti-Regular.ttf",
            },
            {
              style: "medium",
              weight: "500",
              path: "./public/fonts/Beiruti-Medium.ttf",
            },
            {
              style: "semibold",
              weight: "600",
              path: "./public/fonts/Beiruti-SemiBold.ttf",
            },
            {
              style: "bold",
              weight: "700",
              path: "./public/fonts/Beiruti-Bold.ttf",
            },
            {
              style: "extrabold",
              weight: "800",
              path: "./public/fonts/Beiruti-ExtraBold.ttf",
            },
          ],
          preload: true,
          display: "swap",
          selector: "",
          fallback: "sans-serif",
        },
      ]}
    />

    <script>
      // Only set the initial theme on <html> from localStorage
      const theme = localStorage.getItem("azzams-theme") || "cmyk";
      document.documentElement.setAttribute("data-theme", theme);
    </script>
  </head>
  <body>
    <Navbar />
    <Container>
      <slot />
    </Container>
    <Footer />
  </body>
</html>

<style>
  html,
  body {
    margin: 0;
    width: 100%;
    height: 100%;
  }
</style>
